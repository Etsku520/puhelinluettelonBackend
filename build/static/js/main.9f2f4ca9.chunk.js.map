{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","sevices/persons.js","App.js","index.js"],"names":["Filter","_ref","searchText","setSearchText","react_default","a","createElement","value","onChange","event","target","PersonForm","addName","newName","onChangeName","newNumber","onChangeNumber","onSubmit","type","Persons","filtered","deleteHandler","map","person","key","id","name","number","onClick","baseUrl","sevices_persons","axios","get","then","response","data","newObject","post","delete","concat","put","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","_useState9","_useState10","message","setMessage","useEffect","personService","people","filter","toLowerCase","includes","className","text","components_Filter","components_PersonForm","preventDefault","newPerson","found","length","window","confirm","updated","p","setTimeout","catch","changeNumber","components_Persons","deletedPerson","find","newPersons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.9f2f4ca9.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ( {searchText, setSearchText} ) => (\n    <input value={searchText}\n        onChange={(event) => setSearchText(event.target.value)}\n    />\n)\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({ addName, newName, onChangeName, newNumber, onChangeNumber }) => (\n    <form onSubmit={addName}>\n        <div>\n          nimi: \n            <input \n                value={newName} \n                onChange={onChangeName}\n            />\n        <div>\n            numero: \n            <input \n                value={newNumber}\n                onChange={onChangeNumber}\n            />\n        </div>\n        </div>\n        <div>\n          <button type=\"submit\">lisää</button>\n        </div>\n      </form>\n)\n\nexport default PersonForm","import React from 'react'\n\nconst Persons = ({ filtered, deleteHandler }) => (\n    filtered.map(person => \n        <div key={person.id}>\n            {person.name} {person.number} <button value={person.id} onClick={deleteHandler}>poista</button>\n        </div>\n    )\n)\n\nexport default Persons","import axios from 'axios'\nconst baseUrl = 'api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl).then(response => response.data)\n}\n\nconst create = newObject => {\n  return axios.post(baseUrl, newObject).then(response => response.data)\n}\n\nconst eradicate = id => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nconst changeNumber = (id, newObject) => {\n  return axios\n    .put(`${baseUrl}/${id}`, newObject)\n    .then(response => response.data)\n}\n\nexport default { getAll, create, eradicate, changeNumber }\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons.js'\nimport personService from './sevices/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [searchText, setSearchText] = useState('')\n  const [message, setMessage] = useState(null)\n\n  useEffect(() => {\n    personService.getAll().then(people => setPersons(people))\n  }, [])\n\n  const onChangeName = event => {\n    setNewName(event.target.value)\n  }\n\n  const onChangeNumber = event => {\n    setNewNumber(event.target.value)\n  }\n\n  const deleteName = event => {\n    if (window.confirm('Do you really want to delete this?')) {\n      const id = event.target.value\n      const deletedPerson = persons.find(p => p.id === id)\n      const newPersons = persons.filter(person => person.id !== id)\n      personService.eradicate(id).then(() => {\n        setPersons(newPersons)\n\n        setMessage({\n          text: `Onnistuit poistamaan henkilön ${deletedPerson.name}`,\n          type: 'message'\n        })\n\n        setTimeout(() => {\n          setMessage(null)\n        }, 6000)\n      })\n    }\n  }\n\n  const changeNumber = (id, newPerson) => {\n    personService\n      .changeNumber(id, newPerson)\n      .then(updated => {\n        setPersons(persons.map(p => (p.id !== id ? p : updated)))\n\n        setNewName('')\n        setNewNumber('')\n        setMessage({\n          text: `Onnistuit muuttamaan henkilön ${updated.name} numeron`,\n          type: 'message'\n        })\n\n        setTimeout(() => {\n          setMessage(null)\n        }, 6000)\n      })\n      .catch(() => {\n        setMessage({\n          text: `Henkilö ${newPerson.name} ei enää ole tietokannassa`,\n          type: 'error'\n        })\n\n        setPersons(persons.filter(p => p.id !== id))\n\n        setTimeout(() => {\n          setMessage(null)\n        }, 6000)\n      })\n  }\n\n  const Messenger = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n\n    return <div className={message.type}>{message.text}</div>\n  }\n\n  const addName = event => {\n    event.preventDefault()\n\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n\n    const found = persons.filter(\n      person => person.name.toLowerCase() === newName.toLowerCase()\n    )\n\n    if (found.length > 0) {\n      const id = found[0].id\n      if (\n        window.confirm(\n          `${newName} on jo luettelossa, korvataanko vanha numero uudella?`\n        )\n      ) {\n        changeNumber(id, newPerson)\n      }\n    } else {\n      personService.create(newPerson).then(person => {\n        setPersons(persons.concat(person))\n        setNewName('')\n        setNewNumber('')\n        setMessage({\n          text: `Onnistuit lisäämään henkilön ${person.name}`,\n          type: 'message'\n        })\n\n        setTimeout(() => {\n          setMessage(null)\n        }, 6000)\n      })\n    }\n  }\n\n  const filtered = persons.filter(person =>\n    person.name.toLowerCase().includes(searchText.toLowerCase())\n  )\n\n  return (\n    <div>\n      <h2>Puhelinluettelo</h2>\n      <Messenger message={message} />\n      <div>\n        rajaa näytettäviä\n        <Filter searchText={searchText} setSearchText={setSearchText} />\n      </div>\n      <h2>Lisää uusi</h2>\n      <PersonForm\n        addName={addName}\n        newName={newName}\n        onChangeName={onChangeName}\n        newNumber={newNumber}\n        onChangeNumber={onChangeNumber}\n      />\n      <h3>Numerot</h3>\n      <Persons filtered={filtered} deleteHandler={deleteName} />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}