{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","sevices/persons.js","App.js","index.js"],"names":["Filter","_ref","searchText","setSearchText","react_default","a","createElement","value","onChange","event","target","PersonForm","addName","newName","onChangeName","newNumber","onChangeNumber","onSubmit","type","Persons","filtered","deleteHandler","map","person","key","id","name","number","onClick","baseUrl","sevices_persons","axios","get","then","response","data","newObject","post","delete","concat","put","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","_useState9","_useState10","message","setMessage","useEffect","personService","people","filter","toLowerCase","includes","className","text","components_Filter","components_PersonForm","preventDefault","newPerson","found","length","window","confirm","updated","p","setTimeout","catch","changeNumber","components_Persons","parseInt","deletedPerson","find","newPersons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.1d2d9ff6.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ( {searchText, setSearchText} ) => (\n    <input value={searchText}\n        onChange={(event) => setSearchText(event.target.value)}\n    />\n)\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({ addName, newName, onChangeName, newNumber, onChangeNumber }) => (\n    <form onSubmit={addName}>\n        <div>\n          nimi: \n            <input \n                value={newName} \n                onChange={onChangeName}\n            />\n        <div>\n            numero: \n            <input \n                value={newNumber}\n                onChange={onChangeNumber}\n            />\n        </div>\n        </div>\n        <div>\n          <button type=\"submit\">lisää</button>\n        </div>\n      </form>\n)\n\nexport default PersonForm","import React from 'react'\n\nconst Persons = ({ filtered, deleteHandler }) => (\n    filtered.map(person => \n        <div key={person.id}>\n            {person.name} {person.number} <button value={person.id} onClick={deleteHandler}>poista</button>\n        </div>\n    )\n)\n\nexport default Persons","import axios from 'axios'\nconst baseUrl = 'api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl).then(response => response.data)\n}\n\nconst create = newObject => {\n  return axios.post(baseUrl, newObject).then(response => response.data)\n}\n\nconst eradicate = id => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nconst changeNumber = (id, newObject) => {\n  return axios\n    .put(`${baseUrl}/${id}`, newObject)\n    .then(response => response.data)\n}\n\nexport default { getAll, create, eradicate, changeNumber }\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons.js'\nimport personService from './sevices/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ searchText, setSearchText ] = useState('')\n  const [ message, setMessage ] = useState(null)\n\n  useEffect(() => {\n    personService.getAll()\n      .then(people => setPersons(people))\n  }, [])\n\n  const onChangeName = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const onChangeNumber = (event) => {\n      setNewNumber(event.target.value)\n  }\n\n  const deleteName = (event) => {\n    if (window.confirm(\"Do you really want to delete this?\")) {\n      const id = parseInt(event.target.value, 10)\n      const deletedPerson = persons.find(p => p.id === id)\n      const newPersons = persons.filter(person => person.id !== id)\n      personService.eradicate(id)\n      .then(() => {\n        setPersons(newPersons)\n        \n        setMessage(\n          {text:`Onnistuit poistamaan henkilön ${deletedPerson.name}`,\n            type: 'message'})\n\n        setTimeout(() => {\n          setMessage(null)\n        }, 6000)\n      })\n    }\n  }\n\n  const changeNumber = (id, newPerson) => {\n    personService.changeNumber(id, newPerson)\n      .then(updated =>  {\n        setPersons(persons.map(p => \n          p.id !== id ? p: updated))\n\n        setNewName('')\n        setNewNumber('')\n        setMessage(\n          { text:`Onnistuit muuttamaan henkilön ${updated.name} numeron`, \n            type: 'message'}\n        )\n\n        setTimeout(() => {\n          setMessage(null)\n        }, 6000)\n      })\n      .catch (() => {\n        setMessage(\n          {text:`Henkilö ${newPerson.name} ei enää ole tietokannassa`,\n            type: 'error'}\n        )\n\n        setPersons(persons.filter(p => \n          p.id !== id\n        ))\n\n        setTimeout(() => {\n          setMessage(null)\n        }, 6000)\n      })\n  }\n\n  const Messenger = ({message}) => {\n    if (message === null) {\n      return null\n    }\n\n    return (\n      <div className={message.type}>\n        {message.text}\n      </div>\n    )\n  }\n\n  const addName = (event) => {\n    event.preventDefault()\n\n    const newPerson = {\n        name: newName,\n        number: newNumber\n    }\n\n    const found = persons.filter(person => person.name.toLowerCase() === newName.toLowerCase())\n\n    if (found.length > 0) {\n      const id = found[0].id\n      if (window.confirm(`${newName} on jo luettelossa, korvataanko vanha numero uudella?`)) {\n        changeNumber(id, newPerson)\n      }\n      \n    } else {\n       personService.create(newPerson)\n      .then(person => {\n        setPersons(persons.concat(person))\n        setNewName('')\n        setNewNumber('')\n        setMessage({ text:`Onnistuit lisäämään henkilön ${person.name}`,\n          type: 'message'})\n\n        setTimeout(() => {\n          setMessage(null)\n        }, 6000)\n      })\n    }\n    \n  }\n\n  const filtered = persons.filter(person => \n    person.name.toLowerCase().includes(searchText.toLowerCase()))\n\n  return (\n    <div>\n      <h2>Puhelinluettelo</h2>\n      <Messenger message={message} />\n      <div>\n          rajaa näytettäviä \n          <Filter \n            searchText={searchText} \n            setSearchText={setSearchText}\n          />\n      </div>\n      <h2>Lisää uusi</h2>\n      <PersonForm\n        addName={addName}\n        newName={newName}\n        onChangeName={onChangeName}\n        newNumber={newNumber}\n        onChangeNumber={onChangeNumber}\n      />\n      <h3>Numerot</h3>\n      <Persons filtered={filtered} deleteHandler={deleteName} />\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}